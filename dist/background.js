(()=>{chrome.runtime.onInstalled.addListener((()=>{}));let e=!1;function t(){const e=document.getElementById("font-selector-root"),t=document.getElementById("font-tester-script");e&&e.remove(),t&&t.remove()}chrome.action.onClicked.addListener((r=>{console.log("Extension icon clicked, attempting to inject content.js...",e),e?chrome.scripting.executeScript({target:{tabId:r.id},function:t},(()=>{chrome.runtime.lastError?console.error(chrome.runtime.lastError.message):e=!1})):(console.log("Running...."),chrome.scripting.executeScript({target:{tabId:r.id},files:["content.js"]},(t=>{chrome.runtime.lastError?console.error(chrome.runtime.lastError.message):e=!0})))})),chrome.runtime.onMessage.addListener(((r,o,n)=>{"widgetClosed"===r.action&&(console.log("closed from content.js: ",o.tab.id,o),e=!1,chrome.scripting.executeScript({target:{tabId:o.tab?.id},function:t},(()=>{chrome.runtime.lastError?console.error(chrome.runtime.lastError.message):e=!1})))}))})();